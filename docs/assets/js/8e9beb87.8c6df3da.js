"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9911],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return c}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),p=d(n),c=r,h=p["".concat(l,".").concat(c)]||p[c]||u[c]||i;return n?a.createElement(h,o(o({ref:t},m),{},{components:n})):a.createElement(h,o({ref:t},m))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var d=2;d<i;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},6644:function(e,t,n){n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return s},metadata:function(){return d},toc:function(){return u}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],s={sidebar_position:3},l="Installation",d={unversionedId:"util_resources/inventory_3_0/install",id:"util_resources/inventory_3_0/install",title:"Installation",description:"Installing & dependencies.",source:"@site/docs/util_resources/inventory_3_0/install.md",sourceDirName:"util_resources/inventory_3_0",slug:"/util_resources/inventory_3_0/install",permalink:"/util_resources/inventory_3_0/install",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docs",previous:{title:"About",permalink:"/util_resources/inventory_3_0/about"},next:{title:"\ud83c\udd95 Inventory 4.0",permalink:"/category/-inventory-40"}},m={},u=[{value:"Dependencies",id:"dependencies",level:2},{value:"Install",id:"install",level:2},{value:"Adding faction safes",id:"adding-faction-safes",level:3},{value:"Vehicles &amp; veh database rows",id:"vehicles--veh-database-rows",level:3},{value:"Death event",id:"death-event",level:3},{value:"Modify the GetPlayerFaction function",id:"modify-the-getplayerfaction-function",level:3},{value:"Registering items",id:"registering-items",level:3},{value:"Registering usable items",id:"registering-usable-items",level:3},{value:"Declaring new vehicle weight(s) in config",id:"declaring-new-vehicle-weights-in-config",level:3},{value:"Using the Inventory system with Multichar resource(s)",id:"using-the-inventory-system-with-multichar-resources",level:3},{value:"Creating shops",id:"creating-shops",level:3},{value:"Shop UID? Why?",id:"shop-uid-why",level:4},{value:"Adding shop images",id:"adding-shop-images",level:4},{value:"Dropped items",id:"dropped-items",level:3},{value:"You have to options to drop the item:",id:"you-have-to-options-to-drop-the-item",level:4},{value:"Aiming / Raycasting / Trade",id:"aiming--raycasting--trade",level:3},{value:"Currently we have two features with raycasting:",id:"currently-we-have-two-features-with-raycasting",level:4},{value:"Weapons",id:"weapons",level:3},{value:"Server event listeners",id:"server-event-listeners",level:3},{value:"Server export functions",id:"server-export-functions",level:3},{value:"Support",id:"support",level:3}],p={toc:u};function c(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"installation"},"Installation"),(0,i.kt)("p",null,"Installing & dependencies."),(0,i.kt)("h2",{id:"dependencies"},"Dependencies"),(0,i.kt)("ul",{className:"contains-task-list"},(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","Server version atleast 4752. (to support lua54 & escrow)"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","Mysql"),(0,i.kt)("li",{parentName:"ul",className:"task-list-item"},(0,i.kt)("input",{parentName:"li",type:"checkbox",checked:!0,disabled:!0})," ","cfx baseevents (or any other which can trigger serverside death event) ")),(0,i.kt)("h2",{id:"install"},"Install"),(0,i.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"There is no simple install for this resource, so if you scroll down below, more things are explained, how things working etc."))),(0,i.kt)("h3",{id:"adding-faction-safes"},"Adding faction safes"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="shared/config.lua"',title:'"shared/config.lua"'},"Config.FactionSafes = {\n  {\n    name = 'police',\n    position = vector3(3324.2, 5166.1, 18.4), -- Safe position\n    size = 100, -- Maximum safe weight\n    slots = 40, -- Maximum safe slots\n    header = 'Police-Safe', -- Inventory header name (when opened)\n    distance = 3 -- Distance to be able to open.\n  }\n}\n")),(0,i.kt)("h3",{id:"vehicles--veh-database-rows"},"Vehicles & veh database rows"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Q:")," Why do i have to add the sql rows here?",(0,i.kt)("br",null),"\n",(0,i.kt)("strong",{parentName:"p"},"A:")," In the previous version we loaded the vehicle inventories when it was opened, so we relied on the client what kind of vehicle it is and the weight was declared after on serverside."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Now we are loading the inventories when the database loaded, and its easier to follow what kind of model it is and the plate also safe."))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="shared/config.lua"',title:'"shared/config.lua"'},"Config.VehicleMysql = {\n    tablename = 'vehicles', -- Table name of the vehicles\n    platerow = 'plate', -- Whats the row name of the plate inside the 'vehicles' table?\n    modelrow = 'model', -- Whats the row name of the model inside the 'vehicles' table?\n    trunkSlots = 40, -- Default value if vehicle model is not present in Config.Vehicles, slots amount for vehicle inventories (TRUNK)\n    gloveboxSlots = 40, -- Default value if vehicle model is not present in Config.Vehicles, Slots amount for vehicle inventories (GLOVEBOX)\n    trunkSize = 100, -- Default value if vehicle model is not present in Config.Vehicles\n    gloveboxSize = 10 -- Default value if vehicle model is not present in Config.Vehicles\n}\n")),(0,i.kt)("h3",{id:"death-event"},"Death event"),(0,i.kt)("p",null,"If you do not have the default cfx resource named as baseevents, then you have another resource which handling the player death event.",(0,i.kt)("br",null),"\nYou should find that event name, and set it."),(0,i.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If you do not setup it properly then the inventory items will not delete when the player dies."))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="shared/config.lua"',title:'"shared/config.lua"'},"Config.DeathEvent = 'baseevents:onPlayerDied'\n")),(0,i.kt)("h3",{id:"modify-the-getplayerfaction-function"},"Modify the GetPlayerFaction function"),(0,i.kt)("p",null,"If you do not modify this to your faction getter then the player will not be able to open the faction safe."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="server/server-utils.lua"',title:'"server/server-utils.lua"'},"--- Get the Player's Faction\n---@param source string | number PlayerSrc\n---@return string\nUtils.GetPlayerFaction = function(source)\n    return 'police'\nend\n")),(0,i.kt)("h3",{id:"registering-items"},"Registering items"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You do not need to add every argument to the functions."),(0,i.kt)("li",{parentName:"ul"},"If you miss one, then the default argument will be applied to the item.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="shared/shared-items.lua"',title:'"shared/shared-items.lua"'},"-- Example(s)\nItemController.registerItem('bread', \"Bread\", false, true, false, 5, \"Bread is tasty..\")\nItemController.registerItem('weapon_pistol', 'Pistol', true, false, true, 2.0)\nItemController.registerItem('cabbage', 'Cabbage')\n\n--- Registering items to be addable after.\n---@param item string\n---@param formatname string\n---@param tradable boolean (Is the item tradable & droppable or not?)\n---@param stackable boolean (Is the item stackable or not?)\n---@param candelete boolean (Can the system delete the item on death?)\n---@param weight number (Item weight, can be float also 0.25)\n---@param description string (Item description if there is any.)\n---@param defaultVariables table (Default variables to declare when the item is added.)\nItemController.registerItem = function\n(\n  item,\n  formatname,\n  tradable,\n  stackable,\n  candelete,\n  weight,\n  description,\n  defaultVariables\n)\n")),(0,i.kt)("h3",{id:"registering-usable-items"},"Registering usable items"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Before registering usable event, you have to ",(0,i.kt)("a",{parentName:"li",href:"#registering-items"},"define the item.")),(0,i.kt)("li",{parentName:"ul"},"We are triggering these events with two arguments: source and slot (which is used)"),(0,i.kt)("li",{parentName:"ul"},"If we want to remove the item when it is used, we need to delete the item on the slot was used, so we have to pass the slot as an argument with the x_y:removeItem function.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="shared/shared-items.lua"',title:'"shared/shared-items.lua"'},"ItemController.registerUsableItem('bread', function(source, slot)\n    local playerInventory = StorageController.getPlayerInventory(source)\n    if playerInventory then\n        playerInventory:removeItem('bread', 1, slot)\n    end\nend)\n\n-- For weapons\nItemController.registerUsableItem('weapon_pistol', function(source)\n    TriggerClientEvent(Config.Events.use_weapon, source, 'weapon_pistol')\nend)\n")),(0,i.kt)("h3",{id:"declaring-new-vehicle-weights-in-config"},"Declaring new vehicle weight(s) in config"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If the vehicle is not present in the Config.Vehicles config then the default weights and slots will be declared."),(0,i.kt)("li",{parentName:"ul"},"You do not need to pass all four table keys. (You can set the trunk only if you want.)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="shared/config-vehicles.lua"',title:'"shared/config-vehicles.lua"'},"Config.Vehicles = {\n    blade = {\n        trunk = 200, -- Maximum weight\n        glovebox = 150, -- Maximum weight\n        trunkslots = 20, -- Maximum slots\n        gloveboxslots = 20 -- Maximum slots\n    },\n    infernus = {\n      trunk = 15\n    }\n}\n")),(0,i.kt)("h3",{id:"using-the-inventory-system-with-multichar-resources"},"Using the Inventory system with Multichar resource(s)"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You need to modify the ",(0,i.kt)("strong",{parentName:"li"},"Utils.GetIdentifier")," function.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="server/server-utils.lua"',title:'"server/server-utils.lua"'},"--- Get the Player's identifier.\n---- If you have custom Multicharacter resource, change this to your needs.\n---@param source string | number PlayerSrc\n---@return string\nUtils.GetIdentifier = function(source)\n    if not Utils.PlayerExist(source) then\n        return\n    end\n\n    for k, v in pairs(GetPlayerIdentifiers(source)) do\n        if string.match(v, 'license:') then\n            return string.gsub(v, 'license:', '')\n        end\n    end\n\n    return \"UNKNOWN_IDENTIFIER\"\nend\n")),(0,i.kt)("h3",{id:"creating-shops"},"Creating shops"),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Always use different uid for the shops, if you registered two with the same uids then it will throw an error for you, and do not overwrite the first one."))),(0,i.kt)("h4",{id:"shop-uid-why"},"Shop UID? Why?"),(0,i.kt)("p",null,"If you have some kind of shop business system then you can add your mysql uid to the uid, and track the shop buys, etc. (But you need to set it up further..)"),(0,i.kt)("h4",{id:"adding-shop-images"},"Adding shop images"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"cef/img/shopimages/example-drinks.png\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="server/server-shops-oop.lua"',title:'"server/server-shops-oop.lua"'},"Shops:__init__({\n    uid = 'grocery-1',\n    position = vector3(3324.2, 5166.1, 18.4),\n    shopname = 'Grocery Store',\n    shopimage = 'grocery.png',\n    tables = {\n        {\n            name = 'Foods',\n            categoryimage = 'example-category.png',\n            categories = {\n                {\n                    name = 'Sandwiches',\n                    items = {\n                        {\n                            item = 'sandwich',\n                            price = 20\n                        }\n                    }\n                },\n                {\n                    name = 'Vegetables',\n                    items = {\n                        {\n                            item = 'cabbage',\n                            price = 35\n                        }\n                    }\n                }\n            }\n        }\n    }\n})\n")),(0,i.kt)("h3",{id:"dropped-items"},"Dropped items"),(0,i.kt)("h4",{id:"you-have-to-options-to-drop-the-item"},"You have to options to drop the item:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Drag the item to the Drop button."),(0,i.kt)("li",{parentName:"ul"},"Press shift and drag it out to the world.")),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Items no longer support different model for each item, we had issues that the item fell out of the world and other things, so we are using one single model for it. (You can modify if you want.)"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="shared/config.lua"',title:'"shared/config.lua"'},"Config.Dropped = {\n    remainOnGround = 20, -- Minutes to remain the item on the ground.\n    model = 'ba_prop_battle_ps_box_01', -- Dropped item model.\n    textRange = 6, -- Text rendering max range.\n    HudPickupRange = 4, -- Pickup range (to be showed in the CEF/NUI)\n    keyPickupRange = 2, -- Pickup range with key.\n    pickupKey = 38, -- Pickup control key (**IsControlJustPressed**)\n    streamRange = 15, -- Stream range of the objects.\n    streamUpdater = 1000, -- How often update the streamed objects. (for loop)\n    EnableDropFromVehicle = false -- Enable or disable dropping out items from any vehicle.\n}\n")),(0,i.kt)("h3",{id:"aiming--raycasting--trade"},"Aiming / Raycasting / Trade"),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If the ",(0,i.kt)("strong",{parentName:"p"},"AimConfig.enabled")," set to ",(0,i.kt)("strong",{parentName:"p"},"true"),", then you can hold down the Shift and it will start the raycasting system."))),(0,i.kt)("h4",{id:"currently-we-have-two-features-with-raycasting"},"Currently we have two features with raycasting:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Trading items to targetPlayer."),(0,i.kt)("li",{parentName:"ul"},"Dropping items to the ground.")),(0,i.kt)("p",null,"We planned to add the hovering on vehicles, but at the end we did not."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="shared/config.lua"',title:'"shared/config.lua"'},"Config.AimConfig = {\n    enabled = true, -- Enable or disable the entire raycast system.\n    enableKey = 21, -- Shift (Sprint / Run)\n    distance = 5, -- Raycast maximum distance\n    renderMS = 10, -- Raycast rendering speed MS\n    EnableDrawLine = true,\n    EnableSprite = true,\n    EnableMeters = true,\n    PlayerSpriteDict = 'mpinventory', -- Texture dictory. What to show when targetPlayer is hovered?\n    PlayerSpriteName = 'mp_specitem_ped', -- Texture name. What to show when targetPlayer is hovered?\n    DropSpriteDict = 'mpinventory', -- Texture dictory. What to show when the ground is hovered?\n    DropSpriteName = 'mp_arrow' -- Texture name. What to show when the ground is hovered?\n}\n")),(0,i.kt)("h3",{id:"weapons"},"Weapons"),(0,i.kt)("p",null,"We have the same bullet system with the weapons so you do not need to apply mags to your 'character'."),(0,i.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("h4",{parentName:"div",id:"when-my-player-shot-a-bullet-the-weapon-got-deleted-bug"},"When my player shot a bullet the weapon got deleted, bug?"),(0,i.kt)("p",{parentName:"div"},"Not a bug, you need keep the item name as the same as the weapon name, so do not register weapons like this: my_server_extra_m4a4, register them as the weapon names. weapon_pistol (So the GetHashKey will not fail.)"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="Example of registering weapons & bullets as items."',title:'"Example',of:!0,registering:!0,weapons:!0,"&":!0,bullets:!0,as:!0,'items."':!0},"ItemController.registerItem('weapon_pistol', 'Pistol', true, false, true, 2.0)\nItemController.registerUsableItem('weapon_pistol', function(source)\n    TriggerClientEvent(Config.Events.use_weapon, source, 'weapon_pistol')\nend)\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua",metastring:'title="Set weapon bullet types in the config.lua"',title:'"Set',weapon:!0,bullet:!0,types:!0,in:!0,the:!0,'config.lua"':!0},"Config.Weapons = {\n    ['WEAPON_PISTOL'] = '9mm_rounds',\n    ['WEAPON_PISTOL50'] = '556_rounds',\n    ['WEAPON_STUNGUN'] = {},\n    ['WEAPON_KNIFE'] = {}\n}\n")),(0,i.kt)("h3",{id:"server-event-listeners"},"Server event listeners"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua"},"Config.ServerEvents = {\n    item_defined = 'aquiver-invapi:item-defined',\n    player_item_added = 'aquiver-invapi:item-added-toplayer',\n    player_item_removed = 'aquiver-invapi:item-removed-player'\n}\n\nAddEventHandler(Config.ServerEvents.item_defined, function(itemTable)\n    print(string.format('invapi-item-defined: %s', json.encode(itemTable)))\nend)\nAddEventHandler(Config.ServerEvents.player_item_added, function(source, itemTable, quantity)\n    print(string.format('invapi-item-added-toplayer: %s quantity: %s', json.encode(itemTable), quantity))\nend)\nAddEventHandler(Config.ServerEvents.player_item_removed, function(source, item, quantity)\n    print(string.format('invapi-item-removed-player: %s, %s', item, quantity))\nend)\n")),(0,i.kt)("h3",{id:"server-export-functions"},"Server export functions"),(0,i.kt)("p",null,"For adding more export functions, please check the functions under the inventory class, then you can easily use anything."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua"},"exports('av_givePlayerItem', av_givePlayerItem)\nexports('av_removePlayerItem', av_removePlayerItem)\nexports('av_getPlayerItemCount', av_getPlayerItemCount)\nexports('av_playerHasItems', av_playerHasItems)\nexports('av_playerGetInventoryWeight', av_playerGetInventoryWeight)\n\nfunction av_givePlayerItem(source, item, quantity, vars, slot)\n    local playerInventory = StorageController.getPlayerInventory(source)\n    if playerInventory then\n        return playerInventory:addItem(item, quantity, vars, slot)\n    end\nend\n\nfunction av_removePlayerItem(source, item, quantity, slot)\n    local playerInventory = StorageController.getPlayerInventory(source)\n    if playerInventory then\n        return playerInventory:removeItem(item, quantity, slot)\n    end\nend\n\nfunction av_getPlayerItemCount(source, item)\n    local playerInventory = StorageController.getPlayerInventory(source)\n    if playerInventory then\n        return playerInventory:getItemCount(item)\n    else\n        return 0\n    end\nend\n\nfunction av_playerHasItems(source, itemsTable)\n    local playerInventory = StorageController.getPlayerInventory(source)\n    if playerInventory then\n        return playerInventory:hasItems(itemsTable)\n    end\nend\n\nfunction av_playerGetInventoryWeight(source)\n    local playerInventory = StorageController.getPlayerInventory(source)\n    if playerInventory then\n        return playerInventory:getInventoryWeight()\n    end\nend\n")),(0,i.kt)("h3",{id:"support"},"Support"))}c.isMDXComponent=!0}}]);